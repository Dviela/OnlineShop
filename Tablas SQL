CREATE DATABASE ONLINESHOP;
USE ONLINESHOP;


CREATE TABLE CLIENTES( 
	ID_CLIENTE INT NOT NULL auto_increment, 
	NOMBRE VARCHAR(50), 
	EMAIL VARCHAR(25), 
	ADDRESS VARCHAR(200),
    PRIMARY KEY (ID_CLIENTE)
);

CREATE TABLE PRODUCTOS( 
	ID_PRODUCTO  INT NOT NULL auto_increment, 
	NOMBRE VARCHAR(100), 
	DESCRIPCION VARCHAR (200), 
	PRECIO VARCHAR(20), 
 	IMAGEN VARCHAR(200),
    PRIMARY KEY (ID_PRODUCTO)
);

CREATE TABLE COMPRA( 
    ID_COMPRA  INT NOT NULL auto_increment, 
	ID_PRODUCTO INT, 
	ID_CLIENTE INT,	
	FECHA DATE,
    PRIMARY KEY (ID_COMPRA)
);

ALTER TABLE COMPRA ADD CONSTRAINT FK_IDPRODUCTO FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTOS (ID_PRODUCTO) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE COMPRA ADD CONSTRAINT FK_IDCLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (ID_CLIENTE) ON DELETE CASCADE ON UPDATE NO ACTION;

DROP TABLE COMPRAN;
DROP TABLE PRODUCTOS;
DROP TABLE CLIENTES;

SELECT * FROM COMPRA;

